rational.html

<html>
<head>
<title>rational approximation generator</title>

<p> http://wilsonminesco.com/16bitMathTables/RationalApprox.html </p>
<script>
 
 function go_(){
 
 var rf = 0;
 var num = 0;
 var num0 = 0;
 var den0 = 0;
 var num1 = 0;
 var den1 = 0;
 var num2 = 0;
 var den2 = 0;
 var str = ""
 
 
 num = inpt.value
 if (num < 1){num = 1 / num; rf = 1;} else {rf = 0;}
 num1 = 1; den1 = 0; num2 = Math.floor(num); den2 = 1;
 str = ((rf)?den2:num2) + " / " + ((rf)?num2:den2) + "<br>"
 for (var i=0; i<no_of.value-1; i++){
 num0 = num1; den0 = den1; num1 = num2; den1 = den2;
 num = 1 / (num - Math.floor(num));
 num2 = num1 * Math.floor(num) + num0; den2 = den1 * Math.floor(num) + den0;
 str += ((rf)?den2:num2) + " / " + ((rf)?num2:den2) + "<br>"
 }
 out.innerHTML = str
 }
</script>
 
</head>
 
<body>
 
Javascript to generate rational approximations<br>
There's no attempt to sanitize the input or make sure 
the output makes sense.<br>
If you put in garbage you get garbage out.<br>
If you put in a rational number you will likely get some garbage,<br>
sooner rather than later in the case of eg integers.<br>
And since you can only input rational numbers ...<br><br> 
<input id="inpt" type="text" size="16" value="3.14159265359" onchange="go_()"><button type="button" onclick="go_()">go</button>&nbsp;&nbsp;<input type="number" id="no_of" size="4" value = "8" onchange="go_()" min="1" max="99"><br>
<div id="out"></div>
 
</body>
</html>